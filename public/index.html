<!DOCTYPE html>
<html >
  <head>
    <title>Employee Directory</title>     
    <link rel="stylesheet" href="./css/bootstrap.min.css" >
    <link rel="stylesheet" type="text/css" href = "./css/jquery-ui.css" >
    <link rel="stylesheet" type="text/css" href ="./css/angular-datepicker.css">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
    <script src="./js/angular-datepicker.js"></script>
     <script src="client.js"></script>
  </head>

  <body ng-app="myApp">
      <div class="container" ng-controller="AppCtrl">
        <br/>
        <h1 align="center"> {{ title }} </h1><br/><br/>
        <table class="table">          
          <thead>
            <tr>
              <td>Name</td>
              <td>Email</td>
              <td>Date of Birth</td>
              <td>Department</td>
              <td>Gender</td>
              <td>Age</td>
            </tr>
          </thead>
            
          <tbody>
              <tr>
                  
                <form>
                    <td>
                      <input class="form-control" ng-model="employee.Name" required placeholder="Name"/>
                    </td>
                    <td>
                      <input type="email" ng-model="employee.Email" required class="form-control" placeholder="abc@xyz.com"/>
                    </td>
                    <td>
                      <datepicker  date-max-limit ="{{currentDate.toString()}}"  date-set-hidden="true" date-format="yyyy-MM-dd" date-set="{{currentDate.toString()}}">
                      <input type="text" ng-model="employee.DateofBirth"  id="datepicker" class="form-control" required placeholder="YYYY-MM-DD"//>
                      </datepicker>
                    </td>
                    <td>
                      <input  ng-model="employee.Department" required class="form-control" placeholder="Department"/>
                    </td>
                    <td>
                      <input  ng-model="employee.Gender" required class="form-control" placeholder="Gender"/>
                    </td>
                    <td>
                      <input type="number" ng-model="employee.Age" disabled class="form-control" placeholder="Age"/>
                    </td>
                    <td>
                        <button class="btn btn-success btn-md" ng-click="addEmployee()">Add Employee</button>
                        <td><button class="btn btn-success btn-md" ng-click="updateEmployee()">Update Employee</button></td>
                    </td>
              
                </form>
              </tr> 
              
              <tr ng-repeat="employee in employees">
                  <td>{{employee.Name}}</td>
                  <td>{{employee.Email}}</td>               
                  <td>{{employee.DateofBirth | date:'yyyy-MM-dd'}}</td>
                  <td>{{employee.Department}}</td>
                  <td>{{employee.Gender}}</td>
                  <td>{{employee.Age}}</td>
                  <td>
                    <button class="btn btn-danger btn-sm" ng-click="removeEmployee(employee._id)">Delete</button>&nbsp;&nbsp;
                    <button class="btn btn-primary btn-sm" ng-click="editEmployee(employee._id)">Edit</button>
                  </td>
              </tr>   
            </tbody>
            
          </table>  
      </div>
  </body>
    
</html>

